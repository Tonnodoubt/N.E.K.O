<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="memory.title">记忆浏览 - Project N.E.K.O.</title>
    <!-- i18next 加载器（统一处理 CDN 加载和初始化） -->
    <script src="/static/i18n-i18next.js"></script>
    <link rel="stylesheet" href="/static/css/memory_browser.css">
</head>
<body>
    <div class="container">
        <div class="container-header">
            <h2 data-i18n="memory.title" data-text="Memory Browser">记忆浏览</h2>
            <button class="close-page-btn" onclick="closeMemoryBrowser()" data-i18n-title="common.close">
                <img src="/static/icons/close_button.png" data-i18n-alt="common.close">
            </button>
        </div>
        <div class="container-content">
            <div class="tips-container">
                <img src="/static/icons/exclamation.png" alt="">
                <span class="tip-text" data-i18n="memory.tip1">刚刚结束的对话内容要稍等片刻才会载入，可以重新点击猫娘名称刷新。</span>
            </div>
            <div class="main">
                <div class="file-list">
                    <div class="file-list-title" data-i18n="memory.catgirlMemory">猫娘记忆库</div>
                    <ul id="memory-file-list"></ul>
                    <div class="review-toggle">
                        <div class="review-toggle-title" data-i18n="memory.autoReview">自动记忆整理</div>
                        <div class="auto-review-toggle-wrapper">
                            <input type="checkbox" id="review-toggle-checkbox">
                            <label for="review-toggle-checkbox" class="auto-review-toggle-btn">
                                <span class="auto-review-toggle-icon"></span>
                                <span class="auto-review-toggle-text" id="review-toggle-text" data-i18n="memory.disabled">已关闭</span>
                            </label>
                            <div class="auto-review-toggle-note" data-i18n="memory.autoReviewNote">
                                开启后系统将自动整理和优化记忆内容，提高对话质量
                            </div>
                        </div>
                    </div>
                </div>
                <div class="editor">
                    <div class="editor-title" data-i18n="memory.chatHistory">聊天记录</div>
                    <div id="memory-chat-edit"></div>
                    <div class="editor-actions" id="save-row" style="display:none;">
                        <button class="save-btn" id="save-memory-btn" data-i18n="memory.save">
                            <span>保存</span>
                        </button>
                        <button class="clear-btn" id="clear-memory-btn" data-i18n="memory.clear">
                            <span>清空</span>
                        </button>
                        <span id="save-status"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="/static/js/memory_browser.js"></script>
</body>

</html>
